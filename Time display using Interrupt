DATA SEGMENT
HOUR DB ?
MIN DB ?
DATA ENDS
CODE SEGMENT
ASSUME CS:CODE, DS:DATA
DISCHAR MACRO CHAR
PUSH AX
PUSH DX
MOV DL,CHAR
MOV AH,02
INT 21H
POP DX
POP AX
ENDM
START: MOV AX,DATA
MOV DS,AX
CALL TIME
MOV AH,4CH
INT21H
TIME PROC NEAR
MOV AH,2CH ;function to read system time
INT21H
MOV HOUR,CH
MOV MIN,CL
CMP CH,12
JB DOWN
SUB CH,12
DOWN: MOV AL,CH
MOV AH,00H
AAM
MOV AX,3030H
DISCHAR AH
DISCHAR AL
DISCHAR’:’
MOV AL,CL
MOV AH,00H
AAM-56-
ADD AX,3030H
DISCHAR AH
DISCHAR AL
DISCHAR’:’
CMP HOUR,12
JB AM
DISCHAR ‘P’
JMP
DOWN1
AM: DISCHAR’A’
DOWN1: DISCHAR’M’
RET
TIME ENDP
CODE ENDS
END START
